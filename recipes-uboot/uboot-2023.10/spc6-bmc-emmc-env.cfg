# U-Boot environment storage on eMMC
# This configuration moves the U-Boot environment from SPI flash to eMMC

# Disable SPI flash environment
CONFIG_ENV_IS_IN_SPI_FLASH=n

# Enable MMC/eMMC environment
CONFIG_ENV_IS_IN_MMC=y

# eMMC device and partition selection
# Device 0 = first MMC controller (eMMC on AST2700)
# Partition 1 = boot partition 0 (mmcblk0boot0) - must match fw_env.config in Linux
CONFIG_SYS_MMC_ENV_DEV=0
CONFIG_SYS_MMC_ENV_PART=1

# Environment offset and size
# Offset: 0 - device tree u-boot,mmc-env-offset in ast2700-nvidia-spc6-bmc.dts takes precedence.
# This CONFIG is fallback and must match fw_env.config in Linux.
CONFIG_ENV_OFFSET=0x00000000

# Environment size: 128 KB (0x20000) - must match fw_env.config in Linux
CONFIG_ENV_SIZE=0x00020000
