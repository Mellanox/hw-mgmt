##################################################################################
# Copyright (c) 2019 - 2021, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
#
# Platform specific sensors config for SN4700
##################################################################################

# Bus list
bus "i2c-15" "i2c-1-mux (chan_id 6)"
bus "i2c-5" "i2c-1-mux (chan_id 4)"
bus "i2c-4" "i2c-1-mux (chan_id 3)"
bus "i2c-2" "i2c-1-mux (chan_id 1)"

# Temperature sensors
chip "mlxsw-i2c-2-48"
    label temp1 "Ambient ASIC Temp"

chip "tmp102-i2c-*-49"
    label temp1 "Ambient Fan Side Temp (air intake)"
chip "tmp102-i2c-*-4a"
    label temp1 "Ambient Port Side Temp (air exhaust)"

chip "tmp102-i2c-15-49"
    label temp1 "Ambient COMEX Temp"

# Power controllersg
chip "mp2975-i2c-5-62"
    label in1 "PMIC-1 PWR 12V Rail (in)"
    label in2 "PMIC-1 ASIC VCORE_MAIN Rail (out)"
    ignore in3
    ignore in4 
    label temp1 "PMIC-1 ASIC VCORE_MAIN Temp 1"
    ignore temp2 
    label power1 "PMIC-1 12V PWR Rail Pwr (in)"
    label power2 "PMIC-1 ASIC VCORE_MAIN Rail Pwr (out)"
    ignore power3 
    ignore power4 
    label curr1 "PMIC-1 12V PWR Rail Curr (in)"
    label curr2 "PMIC-1 ASIC VCORE_MAIN Rail Curr (out)"
    ignore curr3
    ignore curr4
    ignore curr5
    ignore curr6
    ignore curr7
    ignore curr8

chip "mp2975-i2c-5-64"
    label in1 "PMIC-2 PWR 12V Rail (in)"
    label in2 "PMIC-2 ASIC 1.8V_MAIN Rail (out1)"
    label in3 "PMIC-2 ASIC 1.2V_MAIN Rail (out2)"
    ignore in4
    label temp1 "PMIC-2 ASIC 1.8V_1.2V_MAIN Temp 1"
    ignore temp2
    label power1 "PMIC-2 12V PWR Rail Pwr (in)"
    label power2 "PMIC-2 ASIC 1.8V_MAIN Rail Pwr (out1)"
    label power3 "PMIC-2 ASIC 1.2V_MAIN Rail Pwr (out2)"
    ignore power4
    label curr1 "PMIC-2 12V PWR Rail Curr (in)"
    label curr2 "PMIC-2 ASIC 1.8V_MAIN Rail Curr (out1)"
    label curr3 "PMIC-2 ASIC 1.2V_MAIN Rail Curr (out2)"
    ignore curr4
    ignore curr5

chip "mp2975-i2c-5-66"
    label in1 "PMIC-3 PWR 12V Rail (in)"
    label in2 "PMIC-3 ASIC VCORE_T0_3 Rail (out1)"
    label in3 "PMIC-3 ASIC 1.8V_T0_3 Rail (out2)"
    ignore in4
    label temp1 "PMIC-3 ASIC VCORE_1.8V_T0_3 Temp 1"
    ignore temp2
    label power1 "PMIC-3 12V PWR Rail Pwr (in) "
    label power2 "PMIC-3 ASIC VCORE_T0_3 Rail Pwr (out1)"
    label power3 "PMIC-3 ASIC 1.8V_T0_3 Rail Pwr (out2)"
    ignore power4 
    label curr1 "PMIC-3 12V PWR Rail Curr (in)"
    label curr2 "PMIC-3 ASIC VCORE_T0_3 Rail Curr (out1)"
    label curr3 "PMIC-3 ASIC 1.8V_T0_3 Rail Curr (out2)"
    ignore curr4
    ignore curr5
    ignore curr6
    ignore curr7
    ignore curr8

chip "mp2975-i2c-5-6a"
    label in1 "PMIC-4 PWR 12V Rail (in)"
    label in2 "PMIC-4 ASIC VCORE_T4_7 Rail (out1)"
    label in3 "PMIC-4 ASIC 1.8V_T4_7 Rail (out2)"
    ignore in4
    label temp1 "PMIC-4 ASIC VCORE_1.8V_T4_7 Temp 1"
    ignore temp2
    label power1 "PMIC-4 12V PWR Rail Pwr (in) "
    label power2 "PMIC-4 ASIC VCORE_T4_7 Rail Pwr (out1)"
    label power3 "PMIC-4 ASIC 1.8V_T4_7 Rail Pwr (out2)"
    ignore power4
    label curr1 "PMIC-4 12V PWR Rail Curr (in)"
    label curr2 "PMIC-4 ASIC VCORE_T4_7 Rail Curr (out1)"
    label curr3 "PMIC-4 ASIC 1.8V_T4_7 Rail Curr (out2)"
    ignore curr4
    ignore curr5
    ignore curr6
    ignore curr7
    ignore curr8

chip "mp2975-i2c-5-6e"
    label in1 "PMIC-5 PWR 12V Rail (in)"
    label in2 "PMIC-5 ASIC 1.2V_T0_3 Rail (out1)"
    label in3 "PMIC-5 ASIC 1.2V_T4_7 Rail (out2)"
    ignore in4
    label temp1 "PMIC-5 ASIC 1.2V_T0_3_T4_7 Temp 1"
    ignore temp2
    label power1 "PMIC-5 12V PWR Rail Pwr (in)"
    label power2 "PMIC-5 ASIC 1.2V_T0_3 Rail Pwr (out1)"
    label power3 "PMIC-5 ASIC 1.2V_T4_7 Rail Pwr (out2)"
    ignore power4
    label curr1 "PMIC-5 12V PWR Rail Curr (in)"
    label curr2 "PMIC-5 ASIC 1.2V_T0_3 Rail Curr (out1)"
    label curr3 "PMIC-5 ASIC 1.2V_T4_7 Rail Curr (out2)"
    ignore curr4
    ignore curr5
    ignore curr6
    ignore curr7
    ignore curr8

# COMEX power supplies
chip "tps53679-i2c-15-58"
    label in1 "PMIC-8 PWR 12V Rail (in1)"
    label in2 "PMIC-8 PWR 12V Rail (in2)"
    label in3 "PMIC-8 COMEX 1.8V Rail (out1)"
    label in4 "PMIC-8 COMEX 1.05V Rail (out2)"
    label temp1 "PMIC-8 Temp 1"
    label temp2 "PMIC-8 Temp 2"
    label power1 "PMIC-8 COMEX 1.8V Rail Pwr (out1)"
    label power2 "PMIC-8 COMEX 1.05V Rail Pwr (out2)"
    ignore power3
    label curr1 "PMIC-8 COMEX 1.8V Rail Curr (out1)"
    label curr2 "PMIC-8 COMEX 1.05V Rail Curr (out2)"
    ignore curr3

chip "tps53679-i2c-15-61"
    label in1 "PMIC-9 PWR 12V Rail (in1)"
    label in2 "PMIC-9 PWR 12V Rail (in2)"
    label in3 "PMIC-9 COMEX 1.2V Rail (out)"
    ignore in4
    label temp1 "PMIC-9 Temp 1"
    label temp2 "PMIC-9 Temp 2"
    label power1 "PMIC-9 COMEX 1.2V Rail Pwr (out1)"
    ignore power2 
    ignore power3
    label curr1 "PMIC-9 COMEX 1.2V Rail Curr (out1)"
    ignore curr2 
    ignore curr3

chip "mp2975-i2c-15-6a"
    label in1 "PMIC-6 PWR 12V Rail (in1)"
    label in2 "PMIC-6 COMEX 1.8V Rail (out)"
    label in3 "PMIC-6 COMEX 1.05V Rail (out)"
    label temp1 "PMIC-6 Temp 1"
    label power1 "PMIC-6 COMEX 12V Rail Pwr (in)"
    label power2 "PMIC-6 COMEX 1.8V Rail Pwr (out)"
    label power3 "PMIC-6 COMEX 1.05V Rail Pwr (out)"
    label curr1 "PMIC-6 COMEX 12V Rail Curr (in)"
    label curr2 "PMIC-6 COMEX 1.8V Rail Curr (out)"
    ignore curr3
    ignore curr4
    label curr5 "PMIC-6 COMEX 1.05V Rail Curr (out)"
    ignore curr6

chip "mp2975-i2c-15-61"
    label in1 "PMIC-7 PWR 12V Rail (in1)"
    label in2 "PMIC-7 COMEX 1.2V Rail (out)"
    label temp1 "PMIC-7 Temp 1"
    label temp2 "PMIC-7 Temp 2"
    label power1 "PMIC-7 COMEX 12V Rail Pwr (in)"
    label power2 "PMIC-7 COMEX 1.2V Rail Pwr (out)"
    label curr1 "PMIC-7 COMEX 12V Rail Curr (in)"
    label curr2 "PMIC-7 COMEX 1.2V Rail Curr (out)"
    ignore curr3

# Power supplies

# Hot-swap
chip "lm5066i-i2c-4-12"
    label in1       "HSC1 VinDC Volt (in)"
    label in3       "HSC1 Vout Volt (out)"
    ignore in2
    label power1    "HSC1 VinDC Pwr (in)"
    label curr1     "HSC1 VinDC Curr (in)"
    label temp1     "HSC1 Temp"
    
chip "lm5066i-i2c-4-14"
    label in1       "HSC2 VinDC Volt (in)"
    label in3       "HSC2 Vout Volt (out)"
    ignore in2
    label power1    "HSC2 VinDC Pwr (in)"
    label curr1     "HSC2 VinDC Curr (in)"
    label temp1     "HSC2 Temp"

# PDB pwr_conv
chip "raa228000-i2c-4-61"
    label in1       "PWR_CONV1 VinDC Volt (in)"
    ignore in2
    label in3       "PWR_CONV1 Vout Volt (out)"
    ignore power1
    ignore curr1
    label curr2     "PWR_CONV1 Curr Curr (out)"
    ignore temp1
    label temp2     "PWR_CONV1 Temp"
    ignore temp3

# PDB temperature sensors
chip "tmp451-i2c-4-4c"
    label temp1 "PDB MOS Temp"
    ignore temp2

chip "tmp1075-i2c-4-4e"
    label temp1 "PDB Ambiant Temp"

# Chassis fans
chip "mlxreg_fan-isa-*"
    label fan1 "Chassis Fan Drawer-1 Tach 1"
    label fan2 "Chassis Fan Drawer-1 Tach 2"
    label fan3 "Chassis Fan Drawer-2 Tach 1"
    label fan4 "Chassis Fan Drawer-2 Tach 2"
    label fan5 "Chassis Fan Drawer-3 Tach 1"
    label fan6 "Chassis Fan Drawer-3 Tach 2"
    label fan7 "Chassis Fan Drawer-4 Tach 1"
    label fan8 "Chassis Fan Drawer-4 Tach 2"
    label fan9 "Chassis Fan Drawer-5 Tach 1"
    label fan10 "Chassis Fan Drawer-5 Tach 2"
    label fan11 "Chassis Fan Drawer-6 Tach 1"
    label fan12 "Chassis Fan Drawer-6 Tach 2"

# Miscellaneous
chip "*-virtual-*"
    ignore temp1

# SSD
chip "drivetemp-*"
    label temp1 "SSD Temp"
